<ion-content>
  <ion-header collapse="fade">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-button routerLink="/principal">
          <ion-icon class="icon-header" name="arrow-back-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title id="titulo">Gasto</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="adicionar()">
          <ion-icon class="icon-header" name="add-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <div id="container">
    <ion-segment [(ngModel)]="abaSelecionada">
      <ion-segment-button value="eventual">
        <ion-label>Eventual</ion-label>
      </ion-segment-button>
      <ion-segment-button value="essencial">
        <ion-label>Essencial</ion-label>
      </ion-segment-button>
    </ion-segment>

    <div *ngIf="abaSelecionada == 'eventual'">
      <ion-card *ngFor="let gasto of gastosEventuais$ | async">
        <ion-card-header>
          <ion-card-title>
            <ion-grid>
              <ion-row class="nome-gasto">
                <ion-col size="8">
                  {{ gasto.nome }}
                </ion-col>
                <ion-col size="4">
                  <ion-button (click)="editar(gasto)" fill="clear" class="botao-editar-excluir">
                    <ion-icon class="icones" name="pencil-outline"></ion-icon>
                  </ion-button>
                  <ion-button (click)="excluir(gasto)" fill="clear" class="botao-editar-excluir">
                    <ion-icon class="icones" name="trash-outline"></ion-icon>
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-title>
          <ion-card-subtitle> {{ gasto.data | date: "dd/MM/yyyy"}} - {{ gasto.tipoGasto }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>R$ {{ gasto.valor }} </ion-card-content>
      </ion-card>
    </div>

    <div *ngIf="abaSelecionada == 'essencial'">
      <ion-card *ngFor="let gasto of gastosEssenciais$ | async">
        <ion-card-header>
          <ion-card-title> 
            <ion-grid>
              <ion-row class="nome-gasto">
                <ion-col size="8">
                  {{ gasto.nome }}
                </ion-col>
                <ion-col size="4">
                  <ion-button (click)="editar(gasto)" fill="clear" class="botao-editar-excluir">
                    <ion-icon class="icones" name="pencil-outline"></ion-icon>
                  </ion-button>
                  <ion-button (click)="excluir(gasto)" fill="clear" class="botao-editar-excluir">
                    <ion-icon class="icones" name="trash-outline"></ion-icon>
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-title>
          <ion-card-subtitle> {{ gasto.data | date: "dd/MM/yyyy"}} </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>R$ {{ gasto.valor }} </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>